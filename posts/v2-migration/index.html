<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Migrating from v1 to v2 | Punk Domains Blog</title><meta name=keywords content><meta name=description content="On 23 March 2022, Punk Domains has migrated to version 2. If you&rsquo;ve minted domains in V1, you&rsquo;ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.
We have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜
Let&rsquo;s take a look at what&rsquo;s new!
1. New default domain image The most visible change is a new default domain image."><meta name=author content><link rel=canonical href=https://blog.punk.domains/posts/v2-migration/><link crossorigin=anonymous href=/assets/css/stylesheet.min.b4e19c453811e60acfec1f00c15ac2be1c53f6ab90187e684358ce7faaf48bab.css integrity="sha256-tOGcRTgR5grP7B8AwVrCvhxT9quQGH5oQ1jOf6r0i6s=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.punk.domains/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.punk.domains/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.punk.domains/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.punk.domains/apple-touch-icon.png><link rel=mask-icon href=https://blog.punk.domains/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Migrating from v1 to v2"><meta property="og:description" content="On 23 March 2022, Punk Domains has migrated to version 2. If you&rsquo;ve minted domains in V1, you&rsquo;ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.
We have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜
Let&rsquo;s take a look at what&rsquo;s new!
1. New default domain image The most visible change is a new default domain image."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.punk.domains/posts/v2-migration/"><meta property="og:image" content="https://blog.punk.domains/img/old-new-domain-image.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-23T10:33:12+02:00"><meta property="article:modified_time" content="2022-03-23T10:33:12+02:00"><meta property="og:site_name" content="Punk Domains Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.punk.domains/img/old-new-domain-image.png"><meta name=twitter:title content="Migrating from v1 to v2"><meta name=twitter:description content="On 23 March 2022, Punk Domains has migrated to version 2. If you&rsquo;ve minted domains in V1, you&rsquo;ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.
We have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜
Let&rsquo;s take a look at what&rsquo;s new!
1. New default domain image The most visible change is a new default domain image."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.punk.domains/posts/"},{"@type":"ListItem","position":2,"name":"Migrating from v1 to v2","item":"https://blog.punk.domains/posts/v2-migration/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Migrating from v1 to v2","name":"Migrating from v1 to v2","description":"On 23 March 2022, Punk Domains has migrated to version 2. If you\u0026rsquo;ve minted domains in V1, you\u0026rsquo;ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.\nWe have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜\nLet\u0026rsquo;s take a look at what\u0026rsquo;s new!\n1. New default domain image The most visible change is a new default domain image.","keywords":[],"articleBody":"On 23 March 2022, Punk Domains has migrated to version 2. If youâ€™ve minted domains in V1, youâ€™ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.\nWe have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜\nLetâ€™s take a look at whatâ€™s new!\n1. New default domain image The most visible change is a new default domain image. Weâ€™re replacing the old one with black background, with the new one that has our brand colors (as gradient) as a background.\nWe feel this will make punk domains stand out more in NFT marketplaces! ðŸ”¥\n2. Replacing transfer() with call() Ok, this one is a bit more technical. ðŸ¤“\nIn v1, payment transfers were done with the transfer() method. Weâ€™re replacing this method with the .call{value} method, which provides more flexibility to TLD owners (the ones that are contracts) through the fallback mechanism.\nAdditionally, weâ€™ve added a ReentrancyGuard mechanism, which is often necessary for .call{value} methods.\n3. Gas optimizations â›½ In order to reduce gas costs and make our contracts more lean, weâ€™ve removed the url and PFP fields as separate fields in domains.\nInstead, both URL and profile picture data can be defined in the custom data field, which is a very flexible data structure within the Domain struct.\n4. Referrals Away from the very technical subjects and onto something we think youâ€™ll all love! Now you can get paid for referring Punk Domains to others!\nEach TLD now has a referral system, which means that a certain percentage of a domain mint payment could go to a referrer (if TLD owner sets the referral fee above 0%).\nThe default referral fee is 10%, but the owner can set it to any number between 0% and 50%. The TLDs owned by Punk Domains will have the referral fee at 10% at the start.\n How do referrals work on Punk Domains website?\nSimple! Just add ?ref=0xYourAddress or ?ref=your.domain to the URL and the website will remember you as a referrer. So next time you mint a domain (on v2), you should be able to see in block explorer that you have received a referral fee (on testnets itâ€™s 10%).\n V2 Deployment Punk Domains has (as of 23 March 2022) migrated to version 2. If youâ€™ve minted domains in V1, youâ€™ll automatically receive new ones. Old domain NFTs will be marked as deprecated, so just ignore them.\nAll newly created domains are now v2 domains.\n","wordCount":"424","inLanguage":"en","datePublished":"2022-03-23T10:33:12+02:00","dateModified":"2022-03-23T10:33:12+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.punk.domains/posts/v2-migration/"},"publisher":{"@type":"Organization","name":"Punk Domains Blog","logo":{"@type":"ImageObject","url":"https://blog.punk.domains/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.punk.domains/ accesskey=h title="Punk Domains Blog (Alt + H)">Punk Domains Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Migrating from v1 to v2</h1><div class=post-meta><span title="2022-03-23 10:33:12 +0200 +0200">March 23, 2022</span></div></header><div class=post-content><p>On 23 March 2022, Punk Domains has migrated to version 2. If you&rsquo;ve minted domains in V1, you&rsquo;ll automatically get new ones. Old ones will be marked as deprecated, so just ignore them. All newly created domains are now v2 domains.</p><p>We have added new exciting features to Punk Domains and making it more gas efficient. ðŸ¤˜</p><p>Let&rsquo;s take a look at what&rsquo;s new!</p><h3 id=1-new-default-domain-image>1. New default domain image<a hidden class=anchor aria-hidden=true href=#1-new-default-domain-image>#</a></h3><p>The most <strong>visible</strong> change is a new default domain image. We&rsquo;re replacing the old one with black background, with the new one that has our brand colors (as gradient) as a background.</p><p><img loading=lazy src=/img/old-new-domain-image.png alt></p><p>We feel this will make punk domains stand out more in NFT marketplaces! ðŸ”¥</p><h3 id=2-replacing-transfer-with-call>2. Replacing <code>transfer()</code> with <code>call()</code><a hidden class=anchor aria-hidden=true href=#2-replacing-transfer-with-call>#</a></h3><p>Ok, this one is a bit more technical. ðŸ¤“</p><p>In v1, payment transfers were done with the <code>transfer()</code> method. We&rsquo;re replacing this method with the <code>.call{value}</code> method, which provides more flexibility to TLD owners (the ones that are contracts) through the fallback mechanism.</p><p>Additionally, we&rsquo;ve added a ReentrancyGuard mechanism, which is often necessary for <code>.call{value}</code> methods.</p><h3 id=3-gas-optimizations->3. Gas optimizations â›½<a hidden class=anchor aria-hidden=true href=#3-gas-optimizations->#</a></h3><p>In order to reduce gas costs and make our contracts more lean, we&rsquo;ve removed the <code>url</code> and PFP fields as separate fields in domains.</p><p><img loading=lazy src=/img/gas-gif.gif alt></p><p>Instead, both URL and profile picture data can be defined in the <strong>custom data</strong> field, which is a very flexible data structure within the Domain struct.</p><h3 id=4-referrals>4. Referrals<a hidden class=anchor aria-hidden=true href=#4-referrals>#</a></h3><p>Away from the very technical subjects and onto something we think you&rsquo;ll all love! Now <strong>you can get paid for referring</strong> Punk Domains to others!</p><p>Each TLD now has a referral system, which means that a certain percentage of a domain mint payment could go to a referrer (if TLD owner sets the referral fee above 0%).</p><p>The <strong>default</strong> referral fee is 10%, but the owner can set it to any number between 0% and 50%. The TLDs owned by Punk Domains will have the referral fee at 10% at the start.</p><blockquote><p>How do referrals work on Punk Domains website?</p><p>Simple! Just add <code>?ref=0xYourAddress</code> or <code>?ref=your.domain</code> to the URL and the website will remember you as a referrer. So next time you mint a domain (on v2), you should be able to see in block explorer that you have received a referral fee (on testnets it&rsquo;s 10%).</p></blockquote><p><img loading=lazy src=/img/referrals.png alt></p><h3 id=v2-deployment>V2 Deployment<a hidden class=anchor aria-hidden=true href=#v2-deployment>#</a></h3><p>Punk Domains has (as of 23 March 2022) migrated to version 2. If you&rsquo;ve minted domains in V1, you&rsquo;ll automatically receive new ones. Old domain NFTs will be marked as deprecated, so just ignore them.</p><p>All newly created domains are now v2 domains.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://blog.punk.domains/>Punk Domains Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>